= Hodei notifications module

Ejemplo de uso de Spring Cloud Stream con el binder de RabbitMQ para consumir una cola de notificaciones.

Dependiendo de la configuración se enviarán por correo y telegram los mensajes recibidos.

Para hacer una prueba simplemente publicar un mensaje directamente en Rabbit.

----
{
	"type":"notification",
	"module":"customers",
	"operation": "customer-creation",
	"subject": "Customer 343Z created",
	"body": "Lorem ipsum"
}
----

O un mensaje de error:

----
{
	"type":"error",
	"module":"policies",
	"operation": "customer-creation",
	"subject": "Policy 234X creation error",
	"body": "Lorem ipsum"
}
----

Para ejecutar la aplicación deberemos tener las siguientes variables de entorno:

----
TELEGRAM_TOKEN=*****
MAIL_HOST=*****
MAIL_USERNAME=*****
MAIL_PASSWORD=*****
----


== Resources

- https://cloud.spring.io/spring-cloud-static/spring-cloud-stream/current/reference/html/spring-cloud-stream.html
- https://github.com/spring-cloud/spring-cloud-stream-samples
- https://developer.okta.com/blog/2020/04/15/spring-cloud-stream

